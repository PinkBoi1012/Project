extends ../template/customerHome.template.pug
//- Block product filter
block productTypeDataFilter

    
    button(class= 'active tab-button' data-filter='*')
        | All
        span #{dataAllProduct.length}
    
    each value in dataPT
        -let filter = "."+value.TP_id
      
        button.tab-button(data-filter=filter) 
            | #{value.TP_name}
            span #{value.data.length}

//- Block show product
block showProduct
    each data in dataAllProduct
      -let urlAddCart = '/add-to-cart/'+data._id
      -let filter = data.TP_id.join(' ') +" item item-grid"
      -let imgSrc = data.P_picture.slice(7)
      div(class= filter id=data._id)
        .item-wrap
            .work-item
                .work-pic
                    img(src=imgSrc, alt='image'   )
                .hover-content
                    .hover-text.text-center
                        a(href=imgSrc, data-lightbox='roadtrip')
                          span.ti-control-forward
                        
                    .project-description.text-uppercase.ul-li
                        h3 #{data.P_name}
                           
                        p(style="color:black") #{data.P_unit_price.toString()} $
                        ul.project-catagorry.text-capitalize
                        
                        if(data.P_unit <=0)
                            p(style='color:red').text-capitalize.project-catagorry  out of stock                    
                        if(data.P_unit <=5 && data.P_unit >0)
                            span.ti-shopping-cart
                            a(href=urlAddCart style='color:black').text-capitalize.project-catagorry   Add to cart
                            
                            p(style={color: 'red','font-size': '12px'}) Only #{data.P_unit} left 
                        if(data.P_unit>5)
                            span.ti-shopping-cart
                            a(href=urlAddCart style='color:black').text-capitalize.project-catagorry   Add to cart
                            
